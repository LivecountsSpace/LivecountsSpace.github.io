<html>

<head>
  <title id="pog">Livecounts.space | Youtube Subscriber Counter</title>
  <meta name="description" content="Youtube Subscriber Counter Which will let you see your channel's own statistics.">
  <link rel="shortcut icon"
    href="https://raw.githubusercontent.com/LivecountsSpace/LivecountsSpace.github.io/master/poggers.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript" src="https://mixerno.space/jquery-3.1.1.min.js"></script>
  <script src="https://mixerno.space/odometer.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <link rel="stylesheet" href="../odometer.css">
  <link rel="stylesheet" href="../global.css">
</head>

<body onload="FirstLoad(window.location.href.split('?cid=')[1]);">
  <center>
    <div id="randomshitlmao">
      <h1><a href="../" style="position: absolute;left: 10%; font-size: 20px; text-decoration: none;color:black;">Home</a> Youtube Subscriber Counter</h1>
      <p>Provided by Livecounts.space</p>
    </div><br>
    <div id="countbox">
      <img src="" id="YTimg" height="140" width="140">
      <div id="YTname">UserName</div>
      <div id="YTsubs" class="odometer"></div>
    </div>
    <br>
    <div id="countbox2">
      <div class="countbox3">
        <div class="odometer fsize" id="YTgoal">0</div>
        <div class="fsize">Goal</div>
      </div>
      <div class="countbox3">
        <div class="odometer fsize" id="YTvideos">0</div>
        <div class="fsize">Videos</div>
      </div>
      <div class="countbox3">
        <div class="odometer fsize" id="YTviews">0</div>
        <div class="fsize">Total Views</div>
      </div>

    </div>
    <br>
    <div id="searchpart">
      <input type="text" id="channelidinput" placeholder="Channel ID"><button id="buotn"
        onclick="if(document.getElementById('channelidinput').value == ''){}else{changechannel(document.getElementById('channelidinput').value)}">Go</button>
    </div>
    <br>
    <div id="graph">
      <div id="GraphFun"></div>
    </div>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    hi <br>
    what you doing here? <br>
    haha <br>
    bye <br>
  </center>
</body>

<script>
  if (window.location.href.split('?cid=')[1] == undefined) {
    location.href = `?cid=UC-lHJZR3Gqxm24_Vd_AJ5Yw`
  }
  var graphData;
  $(document).ready(function () {
    graphData = new Highcharts.chart('GraphFun', {
      chart: {
        backgroundColor: 'transparent',
        renderTo: GraphFun,
        type: 'line'
      },
      title: {
        text: `Subscriber Graph`
      },
      xAxis: {
        type: 'datetime',
        tickPixelInterval: 500,
      },
      yAxis: {
        title: {
          text: ''
        },
      },

      credits: {
        enabled: true,
        text: "Livecounts.space"
      },

      series: [{
        name: 'Subscribers',
        marker: {
          enabled: false
        },

      }]
    })
  });
  // Get the input field
  var input = document.getElementById("channelidinput");

  // Execute a function when the user releases a key on the keyboard
  input.addEventListener("keyup", function (event) {
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
      // Cancel the default action, if needed
      event.preventDefault();
      // Trigger the button element with a click
      document.getElementById("buotn").click();
    }
  });
  var estimated = true
  var YT = {
    setname: function (name) {
      document.getElementById('YTname').innerHTML = name
    },
    setpicture: function (url) {
      document.getElementById('YTimg').src = url
    },
    setsubs: function (count) {
      document.getElementById('YTsubs').innerHTML = count
    },
    setgraphpoint: function (count) {
      graphData.series[0].addPoint([
        (new Date()).getTime(),
        parseFloat(count)
      ]);
      if (graphData.series[0].data.length >= 900) {
        graphData.series[0].data[0].remove()
      }
    },
    setgoal: function (count) {
      document.getElementById('YTgoal').innerHTML = GetGoal(count);
    },
    setview: function (count) {
      document.getElementById('YTviews').innerHTML = count;
    },
    setvideo: function (count) {
      document.getElementById('YTvideos').innerHTML = count;
    }
  }
  function GetGoal(count) {
    if (count < 10) return 10; var x1 = Math.floor(Math.log10(count)); var x2 = Math.ceil(count / 10 ** x1); var x3 = x2 * 10 ** x1; var goal = x3 - count; return goal
  }
  function changechannel(cid) {
    location.href = `?cid=${cid}`
  }
  function FirstLoad(id) {
    //console.log(id)
    fetch('https://api.mixerno.space/youtube/estimated/user/' + id).then(res => res.json()).then(data => {
      //console.log(data)
      var json = data
      if (!json.msg) {
        YT.setname(json.name)
        YT.setsubs(Math.floor(json.SubscriberCount))
        YT.setgoal(Math.floor(json.SubscriberCount))
        YT.setgraphpoint(Math.floor(json.SubscriberCount))
        YT.setpicture(json.image)
        YT.setview(json.totalviews)
        YT.setvideo(json.videos)
        StartTheWait()
      } else {
        console.log("User is not there.")
        estimated = false
        FirstLoad2(window.location.href.split('?cid=')[1])

      }

    }).catch((error) => {
      console.error('Error:', error);
    });

  }
  function FirstLoad2(id) {
    //console.log(id)sear
    fetch('https://api.mixerno.space/youtube/channels/statistics/' + id).then(res => res.json()).then(data => {
      //console.log(data)
      var json = data
      estimated = false
      if (!json.items[0].statistics.subscriberCount) {
        console.log("Api Error.")

      } else {
        YT.setsubs(Math.floor(json.items[0].statistics.subscriberCount))
        YT.setgoal(parseFloat(Math.floor(json.items[0].statistics.subscriberCount)))
        YT.setgraphpoint(parseFloat(Math.floor(json.items[0].statistics.subscriberCount)))
      }
    }).catch((error) => {
      console.error('Error:', error);
    });
    fetch('https://api.mixerno.space/youtube/channels/snippet/' + id).then(res => res.json()).then(data => {
      //console.log(data)
      var json = data
      estimated = false
      if (!json.items[0].snippet.title) {
        console.log("Api Error.")

      } else {
        YT.setname(json.items[0].snippet.title)
        YT.setpicture(json.items[0].snippet.thumbnails.high.url)
      }
    }).catch((error) => {
      console.error('Error:', error);
    });

  }
  function StartTheWait() {
    if (estimated == true) {
      setInterval(function () {
        fetch('https://api.mixerno.space/youtube/estimated/user/' + window.location.href.split('?cid=')[1]).then(res => res.json()).then(data => {
          //console.log(data)
          var json = data
          if (!json.msg) {
            YT.setname(json.name)
            YT.setsubs(Math.floor(json.SubscriberCount))
            YT.setgoal(Math.floor(json.SubscriberCount))
            YT.setgraphpoint(Math.floor(json.SubscriberCount))
            YT.setpicture(json.image)
            YT.setview(json.totalviews)
            YT.setvideo(json.videos)
          } else {
            console.log("User is not there.")
          }
        }).catch((error) => {
          console.error('Error:', error);
        });
      }, 2000);
    } else {
      setInterval(function () {
        fetch('https://api.mixerno.space/youtube/channels/statistics/' + window.location.href.split('?cid=')[1]).then(res => res.json()).then(data => {
          //console.log(data)
          var json = data
          estimated = false
          if (!json.items[0].statistics.subscriberCount) {
            console.log("Api Error.")

          } else {
            YT.setsubs(Math.floor(json.items[0].statistics.subscriberCount))
            YT.setgoal(parseFloat(Math.floor(json.items[0].statistics.subscriberCount)))
            YT.setgraphpoint(parseFloat(Math.floor(json.items[0].statistics.subscriberCount)))
          }
        }).catch((error) => {
          console.error('Error:', error);
        });
      }, 10000);
    }

  }
</script>

</html>